<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>PV Web Socket</title>
<script type="text/javascript" src="js/jquery-3.3.1.js"></script>
<script type="text/javascript" src="js/pvws.js"></script>
</head>
<body>

<blockquote>
<h1>PV Web Socket</h1>

<form>
  <input type="text" id="text">
  <input type="button" onclick="wsSendMessage();" value="Send">
  <input type="button" onclick="wsCloseConnection();" value="Disconnect">
</form>

<textarea id="response" rows="5" cols="30"></textarea>

</blockquote>

<script type="text/javascript">
let text = document.getElementById("text");
text.value = "Type message...";
let response = document.getElementById("response");

let pvws = new PVWS("ws://localhost:8080/pvws/pv");

function wsSendMessage()
{
    pvws.socket.send(JSON.stringify({ name: text.value }));
}

function wsCloseConnection()
{
    pvws.close();
}

jQuery(() =>
{
    console.log("LOADED");
    pvws.open();
});
</script>

</body>
</html>